Diagram Entitas-Hubungan (ERD) untuk Website Thrift Shop

Entitas:

1. User
   - Atribut:
     - _id (ObjectId, Kunci Utama)
     - username (String, wajib, unik)
     - password (String, wajib)
     - role (String, enum: ['user', 'admin'], default: 'user')
     - resetPasswordToken (String)
     - resetPasswordExpire (Date)
     - wishlist (Array of ObjectId, referensi Product)
     - createdAt (Date)
     - updatedAt (Date)

2. Product
   - Atribut:
     - _id (ObjectId, Kunci Utama)
     - name (String, wajib)
     - price (Number, wajib)
     - originalPrice (Number)
     - discount (Number)
     - image (String, wajib)
     - isNewArrival (Boolean, default: false)
     - rating (Number, default: 0)
     - reviews (Number, default: 0)
     - description (String, wajib)
     - size (String, wajib)
     - condition (String, wajib)
     - category (String, wajib)
     - createdAt (Date)
     - updatedAt (Date)

3. Order
   - Atribut:
     - _id (ObjectId, Kunci Utama)
     - orderId (String, wajib, unik)
     - user (ObjectId, wajib, referensi User)
     - items (Array of objects):
       - product (ObjectId, wajib, referensi Product)
       - name (String, wajib)
       - quantity (Number, wajib)
       - price (Number, wajib)
       - image (String, wajib)
     - totalAmount (Number, wajib)
     - customerDetails (Object):
       - name (String, wajib)
       - phone (String, wajib)
       - address (String, wajib)
     - status (String, enum: ['pending', 'paid', 'shipped', 'completed'], default: 'pending')
     - paymentProof (String)
     - createdAt (Date)
     - updatedAt (Date)

Hubungan:

- User ke Product (Wishlist): Many-to-Many
  - Seorang User dapat memiliki banyak Product di wishlist.
  - Sebuah Product dapat ada di wishlist banyak User.
  - Diimplementasikan melalui array wishlist di model User.

- User ke Order: One-to-Many
  - Seorang User dapat membuat banyak Order.
  - Sebuah Order milik satu User.

- Order ke Product (Items): Many-to-Many
  - Sebuah Order dapat berisi banyak Product (melalui array items).
  - Sebuah Product dapat ada di banyak Order.

Representasi ASCII Art:

+----------------+       +----------------+       +----------------+
|     User       |       |    Product     |       |     Order      |
+----------------+       +----------------+       +----------------+
| - _id          |<--*---| - _id          |<--*---| - _id          |
| - username     |       | - name         |       | - orderId      |
| - password     |       | - price        |       | - user (ref)   |
| - role         |       | - ...          |       | - items[]      |
| - wishlist[]   |-->----|                |       | - totalAmount  |
|                |       |                |       | - ...          |
+----------------+       +----------------+       +----------------+
        |                        ^
        |                        |
        v                        |
+----------------+               |
|    Wishlist    |               |
+----------------+               |
| - user_id      |               |
| - product_id   |               |
+----------------+               |
                                   |
                                   |
+----------------+               |
|   OrderItem    |               |
+----------------+               |
| - order_id     |               |
| - product_id   |               |
| - quantity     |               |
+----------------+               |
